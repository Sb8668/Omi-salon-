<!DOCTYPE html>
<html>
<head>
<title>Admin â€“ OMI SALON</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
<h2>Admin Dashboard</h2>
<input type="password" id="pass" placeholder="Admin Password">
<button onclick="login()">Login</button>

<div id="panel" style="display:none">
<input type="date" id="adate">
<div id="list"></div>
</div>
</div>

<script type="module">
import { db, APP_ID } from './firebase.js';
import { collection, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

window.login=()=>{
 if(pass.value==="omi123"){
  panel.style.display="block";
 }
};

adate.onchange=()=>{
 const q=collection(db,"artifacts",APP_ID,"public","data",`bookings_${adate.value}`);
 onSnapshot(q,snap=>{
  list.innerHTML="";
  snap.forEach(d=>{
   list.innerHTML+=`<div class="card">${d.data().time} - ${d.data().name}</div>`;
  })
 })
};
</script>
</body>
</html>
