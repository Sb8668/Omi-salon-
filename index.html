<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OMI SALON | Premium Appointment Booking</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
*{box-sizing:border-box;font-family:'Poppins',sans-serif}
body{margin:0;background:#0f0f0f;color:#fff}
header,footer{background:#000;padding:20px;text-align:center}
h1{color:#d4af37;margin:0}
.container{max-width:1100px;margin:auto;padding:20px}
.card{background:#161616;border-radius:16px;padding:20px;margin-bottom:20px}
input,select,button{
width:100%;padding:12px;margin-top:10px;
border-radius:10px;border:none;font-size:15px
}
button{background:#d4af37;color:#000;font-weight:700;cursor:pointer}
button:hover{opacity:0.9}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}
@media(max-width:768px){.grid{grid-template-columns:1fr}}
.admin{display:none}
.booking{border-bottom:1px solid #333;padding:10px 0}
.badge{background:#d4af37;color:#000;padding:4px 10px;border-radius:8px;font-size:12px}
footer{font-size:13px;color:#aaa}
</style>
</head>

<body>

<header>
<h1>OMI SALON тЬВя╕П</h1>
<p>рд╕рдХрд╛рд│реА 9:00 рддреЗ рд░рд╛рддреНрд░реА 8:00 | Premium Grooming Experience</p>
</header>

<div class="container">

<!-- CUSTOMER -->
<div class="card">
<h2>рдЕрдкреЙрдЗрдВрдЯрдореЗрдВрдЯ рдмреБрдХ рдХрд░рд╛</h2>

<input id="name" placeholder="рддреБрдордЪреЗ рдкреВрд░реНрдг рдирд╛рд╡">
<input id="phone" placeholder="рдореЛрдмрд╛рдИрд▓ рдирдВрдмрд░ (10 рдЕрдВрдХреА)">
<select id="service">
<option value="">рд╕реЗрд╡рд╛ рдирд┐рд╡рдбрд╛</option>
<option>Hair Cut</option>
<option>Beard Trim</option>
<option>Hair + Beard</option>
<option>Facial</option>
</select>
<input type="date" id="date">
<select id="time"></select>

<button onclick="book()">рдЕрдкреЙрдЗрдВрдЯрдореЗрдВрдЯ рдмреБрдХ рдХрд░рд╛</button>
</div>

<!-- ADMIN -->
<div class="card">
<h2>ЁЯФР Admin Login</h2>
<input id="adminPass" type="password" placeholder="Admin Password">
<button onclick="adminLogin()">Login</button>
</div>

<div class="card admin" id="adminPanel">
<h2>ЁЯУЛ рдЖрдЬрдЪреНрдпрд╛ Booking</h2>
<div id="list"></div>
</div>

</div>

<footer>
<p>ЁЯУН OMI SALON, Kolhapur</p>
<p>ЁЯУЮ +91 91456 27957</p>
<p>Developed by <b>Sourabh</b></p>
</footer>

<script>
// ЁЯФе Firebase Config (рддреБрдЭрдВ рджрд┐рд▓реЗрд▓рдВ)
const firebaseConfig = {
  apiKey: "AIzaSyAGu894r9r05lgFjdVC6OGM361oWUBvDD0",
  authDomain: "omi-salon.firebaseapp.com",
  projectId: "omi-salon"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Constants
const OWNER = "919145627957";
const ADMIN_PASSWORD = "omi123";

// Time slots
const timeSelect = document.getElementById("time");
for(let h=9; h<=20; h++){
 let t = (h<10?"0":"")+h+":00";
 let o = document.createElement("option");
 o.value=t; o.innerText=t;
 timeSelect.appendChild(o);
}

// Token
let token = Math.floor(100 + Math.random()*900);

// Booking
function book(){
 let n=name.value.trim(), p=phone.value.trim(),
 s=service.value, d=date.value, t=time.value;

 if(!n||p.length!=10||!s||!d||!t){
  alert("рд╕рд░реНрд╡ рдорд╛рд╣рд┐рддреА рднрд░рд╛");
  return;
 }

 let data={n,p,s,d,t,token,ts:Date.now()};
 db.collection("bookings").add(data).then(()=>{
  let msg=`рдирдорд╕реНрдХрд╛рд░ ЁЯЩП
рдЖрдкрд▓реА *OMI SALON* рдЕрдкреЙрдЗрдВрдЯрдореЗрдВрдЯ рдХрдиреНрдлрд░реНрдо рдЭрд╛рд▓реА рдЖрд╣реЗ.

ЁЯФв рдЯреЛрдХрди: ${token}
ЁЯУЕ рддрд╛рд░реАрдЦ: ${d}
тП░ рд╡реЗрд│: ${t}

рдзрдиреНрдпрд╡рд╛рдж тЬВя╕П`;

  window.open(`https://wa.me/${OWNER}?text=`+encodeURIComponent("рдирд╡реАрди Booking:\n"+msg));
  setTimeout(()=>window.open(`https://wa.me/91${p}?text=`+encodeURIComponent(msg)),400);
  alert("Booking Successful");
 });
}

// Admin
function adminLogin(){
 if(adminPass.value===ADMIN_PASSWORD){
  document.querySelector(".admin").style.display="block";
  loadBookings();
 }else alert("рдЪреБрдХреАрдЪрд╛ рдкрд╛рд╕рд╡рд░реНрдб");
}

function loadBookings(){
 db.collection("bookings").orderBy("ts","desc")
 .onSnapshot(snap=>{
  list.innerHTML="";
  snap.forEach(d=>{
   let b=d.data();
   list.innerHTML+=`
   <div class="booking">
    <b>${b.n}</b> | ${b.t} <span class="badge">Token ${b.token}</span><br>
    ${b.s}<br>
    <button onclick="window.open('https://wa.me/91${b.p}')">ЁЯФФ Reminder</button>
   </div>`;
  });
 });
}
</script>

</body>
</html>
