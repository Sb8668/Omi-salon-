<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OMI SALON | Appointment</title>

<style>
body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:#fff;
}
header,footer{
  background:#000;
  text-align:center;
  padding:15px;
}
h1{color:#d4af37;margin:0;letter-spacing:2px}
.container{max-width:900px;margin:auto;padding:20px}
.card{
  background:rgba(255,255,255,0.08);
  border-radius:16px;
  padding:20px;
  margin-bottom:20px;
}
input,select,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:8px;
  border:none;
  font-size:15px;
}
button{
  background:#d4af37;
  font-weight:bold;
  cursor:pointer;
}
button:hover{opacity:.9}
.hidden{display:none}
.admin-btn{
  background:#25D366;
  color:#000;
  padding:6px 10px;
  border-radius:6px;
  font-size:12px;
}
table{width:100%;border-collapse:collapse}
td,th{padding:8px;border-bottom:1px solid #555;font-size:14px}
small{color:#ccc}
</style>
</head>

<body>

<header>
<h1>OMI SALON</h1>
<small>рд╕рдХрд╛рд│реА 9 рддреЗ рд░рд╛рддреНрд░реА 8</small>
</header>

<div class="container">

<!-- CUSTOMER -->
<div class="card">
<h2>тЬВя╕П рдЕрдкреЙрдЗрдВрдЯрдореЗрдВрдЯ рдмреБрдХ рдХрд░рд╛</h2>

<input id="name" placeholder="рддреБрдордЪрдВ рдирд╛рд╡">
<input id="phone" placeholder="рдореЛрдмрд╛рдИрд▓ рдирдВрдмрд░">

<select id="service">
<option value="">рд╕реЗрд╡рд╛ рдирд┐рд╡рдбрд╛</option>
<option>Hair Cut</option>
<option>Shaving</option>
<option>Hair + Beard</option>
<option>Facial</option>
</select>

<select id="time"></select>

<button type="button" onclick="book()">Book Appointment</button>
</div>

<!-- ADMIN LOGIN -->
<div class="card">
<h3>ЁЯФР Admin Login</h3>
<input id="adminPass" type="password" placeholder="Password">
<button onclick="login()">Login</button>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel" class="card hidden">
<h2>ЁЯУЛ Booking List</h2>
<table id="list">
<tr><th>Token</th><th>рдирд╛рд╡</th><th>рд╡реЗрд│</th><th>Action</th></tr>
</table>
</div>

</div>

<footer>
<p>Developed by <b>Sourabh</b></p>
<p>┬й 2026 OMI SALON</p>
</footer>

<script>
const OWNER = "919145627957";

function getBookings(){
  return JSON.parse(localStorage.getItem("bookings")||"[]");
}
function saveBookings(b){
  localStorage.setItem("bookings",JSON.stringify(b));
}

/* LOAD TIME SLOTS WITH FREEZE */
function loadSlots(){
  const sel=document.getElementById("time");
  sel.innerHTML=`<option value="">рд╡реЗрд│ рдирд┐рд╡рдбрд╛</option>`;
  const bookings=getBookings();
  const booked=bookings.map(b=>b.t);

  for(let h=9;h<=20;h++){
    const slot=h+":00";
    if(booked.includes(slot)){
      sel.innerHTML+=`<option disabled>тЭМ ${slot} (Full)</option>`;
    }else{
      sel.innerHTML+=`<option>${slot}</option>`;
    }
  }
}
loadSlots();

/* BOOK APPOINTMENT */
function book(){
  const n=name.value.trim();
  const p=phone.value.trim();
  const s=service.value;
  const t=time.value;

  if(!n||!p||!s||!t){
    alert("рд╕рдЧрд│реА рдорд╛рд╣рд┐рддреА рднрд░рд╛");
    return;
  }

  let bookings=getBookings();
  if(bookings.some(b=>b.t===t)){
    alert("рд╣рд╛ slot рдЖрдзреАрдЪ рднрд░рд▓реЗрд▓рд╛ рдЖрд╣реЗ");
    return;
  }

  const token=bookings.length+1;
  bookings.push({token,n,p,s,t});
  saveBookings(bookings);
  loadSlots();

  const msg=
`рдирдорд╕реНрдХрд╛рд░ OMI SALON тЬВя╕П

рдореА рдЕрдкреЙрдЗрдВрдЯрдореЗрдВрдЯ рдмреБрдХ рдХреЗрд▓реА рдЖрд╣реЗ.

ЁЯСд рдирд╛рд╡: ${n}
ЁЯУЮ рдореЛрдмрд╛рдИрд▓: ${p}
ЁЯТИ рд╕реЗрд╡рд╛: ${s}
тП░ рд╡реЗрд│: ${t}
ЁЯОЯя╕П Token рдирдВрдмрд░: ${token}

рдХреГрдкрдпрд╛ рдХрдиреНрдлрд░реНрдо рдХрд░рд╛.
рдзрдиреНрдпрд╡рд╛рдж ЁЯЩП`;

  location.href="https://wa.me/"+OWNER+"?text="+encodeURIComponent(msg);
}

/* ADMIN */
function login(){
  if(adminPass.value==="omi123"){
    adminPanel.classList.remove("hidden");
    render();
  }else alert("рдЪреБрдХреАрдЪрд╛ рдкрд╛рд╕рд╡рд░реНрдб");
}

function render(){
  const bookings=getBookings();
  list.innerHTML="<tr><th>Token</th><th>рдирд╛рд╡</th><th>рд╡реЗрд│</th><th>Action</th></tr>";
  bookings.forEach(b=>{
    list.innerHTML+=`
<tr>
<td>${b.token}</td>
<td>${b.n}</td>
<td>${b.t}</td>
<td>
<button class="admin-btn"
onclick="remind('${b.n}','${b.p}','${b.s}','${b.t}','${b.token}')">
ЁЯФФ Reminder
</button>
</td>
</tr>`;
  });
}

function remind(n,p,s,t,token){
  const msg=
`рдирдорд╕реНрдХрд╛рд░ ${n} ЁЯЩП

OMI SALON тЬВя╕П рдХрдбреВрди рдЖрдард╡рдг:

тП░ рд╡реЗрд│: ${t}
ЁЯТИ рд╕реЗрд╡рд╛: ${s}
ЁЯОЯя╕П Token: ${token}

рдХреГрдкрдпрд╛ рд╡реЗрд│реЗрд╡рд░ рдпрд╛.
рдзрдиреНрдпрд╡рд╛рдж!`;

  window.open("https://wa.me/91"+p+"?text="+encodeURIComponent(msg));
}
</script>

</body>
</html>
